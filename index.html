<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Painel de SeleÃ§Ã£o</title>

<style>
    body {
        margin: 0;
        background: #f1f3f4;
        font-family: Arial, sans-serif;
    }

    header {
        background: #00b3a4;
        padding: 18px;
        text-align: center;
        font-size: 23px;
        font-weight: bold;
        color: white;
    }

    .container {
        max-width: 900px;
        margin: auto;
        padding: 20px;
    }

    .card {
        background: white;
        border-radius: 12px;
        padding: 22px;
        margin-bottom: 25px;
        box-shadow: 0 3px 12px rgba(0,0,0,0.08);
    }

    .dashboard {
        display: grid;
        grid-template-columns: repeat(3, 1fr);
        gap: 18px;
    }

    .month {
        padding: 20px;
        background: white;
        border-left: 8px solid #00b3a4;
        border-radius: 12px;
        text-align: center;
        font-weight: bold;
        box-shadow: 0 3px 10px rgba(0,0,0,0.1);
    }

    .month.full {
        border-left-color: red;
        background: #ffe5e5;
    }

    label {
        font-weight: bold;
    }

    input, select {
        width: 100%;
        padding: 14px;
        margin-top: 8px;
        margin-bottom: 16px;
        font-size: 16px;
        border-radius: 8px;
        border: 1px solid #ccc;
    }

    button {
        width: 100%;
        background: #00b3a4;
        padding: 15px;
        font-size: 18px;
        border: none;
        border-radius: 10px;
        color: white;
        cursor: pointer;
        margin-top: 10px;
    }

    button:hover {
        background: #009688;
    }

    #adminArea { display: none; }

</style>
</head>
<body>

<header>Painel da Equipe â€“ SeleÃ§Ã£o de Meses</header>

<div class="container">

    <div class="card">
        <h2 style="color:#00b3a4">ðŸ“Š Dashboard â€“ Preenchimento</h2>
        <div id="dashboard" class="dashboard"></div>
    </div>

    <div class="card">
        <h2 style="color:#00b3a4">Cadastro</h2>

        <label>Nome Completo *</label>
        <input type="text" id="nome" placeholder="Digite seu nome completo">

        <label>CPF *</label>
        <input type="text" id="cpf" placeholder="000.000.000-00">

        <label>MÃªs *</label>
        <select id="mesEscolha">
            <option value="">Selecione um mÃªs</option>
        </select>

        <button onclick="registrar()">Confirmar</button>
    </div>

    <div class="card">
        <h2 style="color:#00b3a4">AdministraÃ§Ã£o</h2>
        <input type="password" id="senha" placeholder="Senha de administrador">
        <button onclick="login()">Entrar</button>
    </div>

    <div id="adminArea" class="card">
        <h2 style="color:#00b3a4">Painel do Administrador</h2>
        <div id="lista"></div>
    </div>
</div>

<script>
const senhaAdm = "lig@457812#";
const meses = [
    "Janeiro","Fevereiro","MarÃ§o","Abril","Maio","Junho",
    "Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"
];

let registros = JSON.parse(localStorage.getItem("painelEquipe")) || {};

function atualizarDashboard() {
    const dash = document.getElementById("dashboard");
    dash.innerHTML = "";

    meses.forEach(m => {
        const qtd = registros[m]?.length || 0;
        const cheio = qtd >= 3;

        dash.innerHTML += `
            <div class="month ${cheio ? 'full' : ''}">
                ${m}<br><small>${qtd}/3</small>
            </div>
        `;
    });
}

function carregarSelect() {
    const select = document.getElementById("mesEscolha");
    select.innerHTML = '<option value="">Selecione um mÃªs</option>';

    meses.forEach(m => {
        const qtd = registros[m]?.length || 0;
        select.innerHTML += `
            <option value="${m}" ${qtd>=3 ? "disabled" : ""}>${m}</option>
        `;
    });
}

function registrar() {
    const nome = document.getElementById("nome").value;
    const cpf = document.getElementById("cpf").value;
    const mes = document.getElementById("mesEscolha").value;

    if (!nome || !cpf || !mes) {
        alert("Preencha todos os campos!");
        return;
    }

    registros[mes] = registros[mes] || [];

    if (registros[mes].length >= 3) {
        alert("Este mÃªs jÃ¡ estÃ¡ cheio!");
        return;
    }

    registros[mes].push({ nome, cpf });
    localStorage.setItem("painelEquipe", JSON.stringify(registros));

    alert("Cadastro realizado!");
    location.reload();
}

function login() {
    const input = document.getElementById("senha").value;

    if (input === senhaAdm) {
        document.getElementById("adminArea").style.display = "block";
        mostrarAdmin();
    } else {
        alert("Senha incorreta.");
    }
}

function mostrarAdmin() {
    const lista = document.getElementById("lista");
    lista.innerHTML = "";

    meses.forEach(m => {
        lista.innerHTML += `<h3>${m}</h3>`;

        (registros[m] || []).forEach((r, i) => {
            lista.innerHTML += `
                <p>${r.nome} â€” ${r.cpf}
                    <button onclick="remover('${m}', ${i})">Excluir</button>
                </p>
            `;
        });
    });
}

function remover(mes, index) {
    registros[mes].splice(index,1);
    localStorage.setItem("painelEquipe", JSON.stringify(registros));
    mostrarAdmin();
    atualizarDashboard();
}

atualizarDashboard();
carregarSelect();
</script>

</body>
</html>
